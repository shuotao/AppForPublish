The Modern Software
Developer
CS146S
Stanford University, Fall 2025
Mihail Eric

themodernsoftware.dev

Building a Coding Agent From Scratch

themodernsoftware.dev

It’s that simple

themodernsoftware.dev

Terminology
● System prompt
○

Define the behavior and some directives for the overall LLM

● User prompt
○

Custom user requests

● Assistant prompt
○

LLM’s response

themodernsoftware.dev

Steps
● Read in terminal and keep appending to conversation
● Tell LLM what tools are available
○
○
○
○
○

It asks for tool use at appropriate time
You execute tool offline and return response
“Read_file”
“List_dir”
“Edit_file”

● Create a new file, edit a new file

themodernsoftware.dev

Let’s build a coding agent from scratch!

themodernsoftware.dev

The “Secret” Sauce
● Looking under the hood of Claude
○
○
○
○

Front-load context with tiny targeted prompts
System reminders everywhere including system/user prompts, tool calls, tool
results to prevent drift (<system-reminder> tags)
Command prefix extraction
Spawns sub agents (likely to help with preventing context overloading)

themodernsoftware.dev

